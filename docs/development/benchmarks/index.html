<!doctype html><html prefix="og: https://ogp.me/ns#" data-theme=dark lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="dark light" name=color-scheme><title>Benchmarks | hx Documentation</title><meta content="Documentation for hx, the extremely fast Haskell package and project manager." name=description><meta content="haskell, package manager, documentation, hx, tutorial, guide" name=keywords><meta content=raskell.io name=author><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><link href=https://hx.raskell.io/docs/docs/development/benchmarks/ rel=canonical><meta content=article property=og:type><meta content=https://hx.raskell.io/docs/docs/development/benchmarks/ property=og:url><meta content=Benchmarks property=og:title><meta property=og:description><meta content="hx Documentation" property=og:site_name><meta content=en property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://hx.raskell.io/docs/docs/development/benchmarks/ name=twitter:url><meta content=Benchmarks name=twitter:title><meta name=twitter:description><script type=application/ld+json>
    {
        "@context": "https://schema.org",
        "@graph": [
            {
                "@type": "WebSite",
                "@id": "https://hx.raskell.io/docs#website",
                "url": "https://hx.raskell.io/docs",
                "name": "hx Documentation",
                "description": "Documentation for hx, the extremely fast Haskell package and project manager.",
                
                "author": {
                    "@type": "Person",
                    "name": "raskell.io"
                },
                
                "inLanguage": "en"
            },
            {
                "@type": "WebPage",
                "@id": "https://hx.raskell.io/docs/docs/development/benchmarks/#webpage",
                "url": "https://hx.raskell.io/docs/docs/development/benchmarks/",
                "name": "Benchmarks",
                "isPartOf": {
                    "@id": "https://hx.raskell.io/docs#website"
                },
                "description": "",
                "inLanguage": "en"
                
                
            }
            
            ,{
                "@type": "Article",
                "@id": "https://hx.raskell.io/docs/docs/development/benchmarks/#article",
                "isPartOf": {
                    "@id": "https://hx.raskell.io/docs/docs/development/benchmarks/#webpage"
                },
                "headline": "Benchmarks",
                
                
                
                
                "author": {
                    "@type": "Person",
                    "name": "raskell.io"
                },
                
                
                
                "wordCount": 1120,
                
                "inLanguage": "en"
            }
            
        ]
    }
    </script><script type=application/ld+json>
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "hx Documentation",
                "item": "https://hx.raskell.io/docs"
            }
            
            
            
            ,{
                "@type": "ListItem",
                "position": 2,
                "name": "hx Documentation",
                "item": "https://hx.raskell.io/docs/"
            }
            
            
            
            ,{
                "@type": "ListItem",
                "position": 2,
                "name": "Documentation",
                "item": "https://hx.raskell.io/docs/docs/"
            }
            
            
            
            ,{
                "@type": "ListItem",
                "position": 2,
                "name": "Development",
                "item": "https://hx.raskell.io/docs/docs/development/"
            }
            
            
            ,{
                "@type": "ListItem",
                "position": 5,
                "name": "Benchmarks",
                "item": "https://hx.raskell.io/docs/docs/development/benchmarks/"
            }
        ]
    }
    </script><link href=https://hx.raskell.io/docs/style.css rel=stylesheet><link as=font crossorigin href=https://hx.raskell.io/docs/fonts/Geist-Variable.woff2 rel=preload type=font/woff2><link as=font crossorigin href=https://hx.raskell.io/docs/fonts/GeistMono-Variable.woff2 rel=preload type=font/woff2><script>(()=>{let c=`auto`;try{var a=localStorage.getItem(`tanuki-theme`)||c;var b=a===c?(window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`):a;document.documentElement.setAttribute(`data-theme`,b);document.documentElement.setAttribute(`data-theme-setting`,a)}catch(a){}})()</script><body class=page-benchmarks><a class=skip-link href=#main-content>Skip to main content</a><div class="layout layout--docs layout--fixed-header" data-mode=docs><aside aria-labelledby=sidebar-title class=sidebar id=sidebar role=complementary><div title="Drag to resize sidebar width" aria-hidden=true class=sidebar__resize-handle></div><div class=sidebar__header><span class=sidebar__title id=sidebar-title>Table of contents</span><button aria-label="Close sidebar" class=sidebar__close title=Close type=button><svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button></div><nav aria-label="Documentation navigation" class=sidebar__content><div class=toc><div class=toc__section><div class=toc__section-title>Getting Started</div><ul class=toc__list><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/installation/> Installation </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/quickstart/> Quick Start </a></ul></div><div class=toc__section><div class=toc__section-title>Commands Reference</div><ul class=toc__list><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/build/> hx build </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/run/> hx run </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/test/> hx test </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/bench/> hx bench </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/check/> hx check </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/repl/> hx repl </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/doc/> hx doc </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/new/> hx new </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/init/> hx init </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/add/> hx add </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/remove/> hx remove </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/update/> hx update </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/lock/> hx lock </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/sync/> hx sync </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/outdated/> hx outdated </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/toolchain/> hx toolchain </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/clean/> hx clean </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/fmt/> hx fmt </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/lint/> hx lint </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/watch/> hx watch </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/commands/doctor/> hx doctor </a></ul></div><div class=toc__section><div class=toc__section-title>Configuration Reference</div><ul class=toc__list><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/configuration/hx-toml/> hx.toml Reference </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/configuration/lockfile/> Lockfile Reference </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/configuration/environment/> Environment Variables </a></ul></div><div class=toc__section><div class=toc__section-title>Features</div><ul class=toc__list><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/features/compiler-backends/> Compiler Backends </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/features/cross-compilation/> Cross-Compilation </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/features/toolchain/> Toolchain Management </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/features/lockfiles/> Lockfiles </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/features/watch-mode/> Watch Mode </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/features/formatting-linting/> Formatting & Linting </a></ul></div><div class=toc__section><div class=toc__section-title>Concepts</div><ul class=toc__list><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/concepts/project-structure/> Project Structure </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/concepts/dependency-resolution/> Dependency Resolution </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/concepts/build-system/> Build System </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/concepts/architecture/> Architecture </a></ul></div><div class=toc__section><div class=toc__section-title>Guides</div><ul class=toc__list><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/guides/ci-cd/> CI/CD Setup </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/guides/migrating-from-stack/> Migrating from Stack </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/guides/migrating-from-cabal/> Migrating from Cabal </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/guides/creating-library/> Creating a Library </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/guides/development-workflow/> Development Workflow </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/guides/troubleshooting/> Troubleshooting </a></ul></div><div class=toc__section><div class=toc__section-title>Development</div><ul class=toc__list><li class=toc__item><a class="toc__link active" href=https://hx.raskell.io/docs/docs/development/benchmarks/> Benchmarks </a><li class=toc__item><a class=toc__link href=https://hx.raskell.io/docs/docs/development/testing/> Testing </a></ul></div><div class=toc__section><div class=toc__section-title>On this page</div><ul class=toc__list><li class=toc__item><a class=toc__link href=#performance-benchmarks> Performance Benchmarks </a> <ul class="toc__list toc__list--nested"><li class=toc__item><a class=toc__link href=#test-environment> Test Environment </a><li class=toc__item><a class=toc__link href=#executive-summary> Executive Summary </a><li class=toc__item><a class=toc__link href=#benchmark-categories> Benchmark Categories </a><li class=toc__item><a class=toc__link href=#benchmark-implementation> Benchmark Implementation </a><li class=toc__item><a class=toc__link href=#running-benchmarks> Running Benchmarks </a><li class=toc__item><a class=toc__link href=#methodology> Methodology </a><li class=toc__item><a class=toc__link href=#historical-results> Historical Results </a><li class=toc__item><a class=toc__link href=#contributing-benchmarks> Contributing Benchmarks </a><li class=toc__item><a class=toc__link href=#faq> FAQ </a></ul></ul></div></div></nav><div class=sidebar__footer><div class=sidebar__actions-mobile><div class=sidebar__action><span class=sidebar__action-label>Theme</span><button aria-label="Toggle color theme: cycles through light, dark, and auto modes" title="Toggle theme" aria-live=polite class=theme-toggle type=button><span class=theme-toggle__icons> <span aria-hidden=true class=theme-toggle__sun> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=4 /><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg> </span> <span aria-hidden=true class=theme-toggle__moon> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg> </span> <span aria-hidden=true class=theme-toggle__auto> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=10 /><path d="M12 2a7 7 0 1 0 7 7"/></svg> </span> </span> <span class="sr-only theme-toggle__status">Current theme: auto</span></button></div><a aria-label="View project on GitHub (opens in new tab)" rel="noopener noreferrer" class=sidebar__github href=https://github.com/raskell-io/hx target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg> <span>View on GitHub</span> </a></div><a aria-label="Print all documentation pages (opens print dialog)" href="https://hx.raskell.io/docs/print?auto=true" class=print-button rel=noopener target=_blank> <svg viewbox="0 0 24 24" aria-hidden=true fill=none height=20 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=20 xmlns=http://www.w3.org/2000/svg><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect height=8 width=12 x=6 y=14 /></svg> <span>Print all pages</span> </a></div></aside><div class=layout__main><header class=header role=banner><div class=header__left><button aria-label="Toggle sidebar navigation" title="Toggle sidebar" aria-controls=sidebar aria-expanded=true class=sidebar-toggle type=button><svg class="sidebar-toggle__icon sidebar-toggle__icon--open" viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><rect height=18 rx=2 width=18 x=3 y=3 /><path d="M9 3v18"/><path d="m16 15-3-3 3-3"/></svg> <svg class="sidebar-toggle__icon sidebar-toggle__icon--closed" viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><rect height=18 rx=2 width=18 x=3 y=3 /><path d="M9 3v18"/><path d="m14 9 3 3-3 3"/></svg></button><button aria-label="Open table of contents" class="toc-toggle toc-toggle--docs" title="Table of contents" aria-controls=sidebar aria-expanded=false type=button><svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><rect height=18 rx=2 width=18 x=3 y=3 /><path d="M9 3v18"/><path d="m16 15-3-3 3-3"/></svg></button><a aria-label="hx Documentation - Go to homepage" class=header__logo href=https://hx.raskell.io/docs> <span class=brand-text>hx Documentation</span> </a></div><nav aria-label="Main navigation" class=header__nav role=navigation><a class=header__link href=https://hx.raskell.io> Home </a><a class=header__link href=https://github.com/raskell-io/hx> GitHub </a></nav><div aria-label="Site actions" class=header__actions role=group><button aria-label="Open search dialog" title="Search (press /)" aria-haspopup=dialog aria-keyshortcuts=/ class=search-toggle type=button><svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=11 cy=11 r=8 /><path d="m21 21-4.3-4.3"/></svg></button><div class=header__actions-desktop><button aria-label="Toggle color theme: cycles through light, dark, and auto modes" title="Toggle theme" aria-live=polite class=theme-toggle type=button><span class=theme-toggle__icons> <span aria-hidden=true class=theme-toggle__sun> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=4 /><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg> </span> <span aria-hidden=true class=theme-toggle__moon> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg> </span> <span aria-hidden=true class=theme-toggle__auto> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=10 /><path d="M12 2a7 7 0 1 0 7 7"/></svg> </span> </span> <span class="sr-only theme-toggle__status">Current theme: auto</span></button><a aria-label="View project on GitHub (opens in new tab)" class="btn btn--icon btn--ghost" rel="noopener noreferrer" href=https://github.com/raskell-io/hx target=_blank title=GitHub> <svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg> </a></div></div></header><nav aria-label="Page navigation" class=nav-buttons><div class="nav-button nav-button--prev disabled" aria-hidden=true><svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="m15 18-6-6 6-6"/></svg></div><a aria-label="Next: Testing" class="nav-button nav-button--next" href=https://hx.raskell.io/docs/docs/development/testing/> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="m9 18 6-6-6-6"/></svg> <span class=nav-button__label> Testing <span class=nav-button__shortcut>→</span> </span> </a></nav><main aria-label="Main content" class=main-content id=main-content role=main><article aria-labelledby=article-title class=article itemscope itemtype=https://schema.org/Article><header class="article__header article__header--docs"><h1 id=article-title itemprop=headline>Benchmarks</h1></header><div class=article__content itemprop=articleBody><h1 id=performance-benchmarks>Performance Benchmarks</h1><p>hx is designed for speed. This page documents our benchmark methodology, test results, and how to reproduce them.<h2 id=test-environment>Test Environment</h2><table><thead><tr><th>Property<th>Value<tbody><tr><td><strong>hx version</strong><td>0.4.0<tr><td><strong>GHC version</strong><td>9.8.2<tr><td><strong>Cabal version</strong><td>3.12.1.0<tr><td><strong>Stack version</strong><td>2.15.1<tr><td><strong>Platform</strong><td>macOS (Apple Silicon M4)<tr><td><strong>Date</strong><td>January 18, 2026</table><p>All benchmarks run on a quiet system with minimal background processes. Times are the median of 5 runs after 2 warmup iterations.<hr><h2 id=executive-summary>Executive Summary</h2><table><thead><tr><th>Operation<th>hx<th>cabal<th>stack<th>hx Speedup<tbody><tr><td>CLI startup<td><strong>12ms</strong><td>45ms<td>89ms<td>3.8x / 7.4x<tr><td>Project init<td><strong>68ms</strong><td>320ms<td>2.1s<td>4.7x / 31x<tr><td>Cold build (simple)<td><strong>0.48s</strong><td>2.68s<td>3.2s<td>5.6x / 6.7x<tr><td>Incremental build<td><strong>0.05s</strong><td>0.39s<td>0.52s<td>7.8x / 10.4x<tr><td>Clean<td><strong>8ms</strong><td>180ms<td>95ms<td>22x / 12x<tr><td>Doctor/diagnostics<td><strong>45ms</strong><td>N/A<td>N/A<td>—</table><hr><h2 id=benchmark-categories>Benchmark Categories</h2><h3 id=1-cli-startup-time>1. CLI Startup Time</h3><p>Measures how fast the tool responds to simple commands. This affects perceived responsiveness.<h4 id=help-response-time><code>--help</code> Response Time</h4><table><thead><tr><th>Tool<th>Time<th>Notes<tbody><tr><td><strong>hx</strong><td>12ms<td>Rust binary, minimal initialization<tr><td>cabal<td>45ms<td>Haskell binary with GHC RTS<tr><td>stack<td>89ms<td>Haskell binary, loads resolver info</table><h4 id=version-response-time><code>--version</code> Response Time</h4><table><thead><tr><th>Tool<th>Time<tbody><tr><td><strong>hx</strong><td>8ms<tr><td>cabal<td>38ms<tr><td>stack<td>72ms</table><p><strong>Why hx is faster:</strong> hx is a native Rust binary with no runtime initialization overhead. Cabal and stack are Haskell binaries that must initialize the GHC runtime system.<hr><h3 id=2-project-initialization>2. Project Initialization</h3><p>Creating a new project from scratch.<h4 id=binary-project-hx-init-cabal-init-stack-new>Binary Project (<code>hx init</code> / <code>cabal init</code> / <code>stack new</code>)</h4><table><thead><tr><th>Tool<th>Time<th>Speedup<tbody><tr><td><strong>hx init</strong><td>68ms<td>—<tr><td>cabal init<td>320ms<td>4.7x slower<tr><td>stack new<td>2.1s<td>31x slower</table><h4 id=library-project>Library Project</h4><table><thead><tr><th>Tool<th>Time<th>Speedup<tbody><tr><td><strong>hx init –lib</strong><td>72ms<td>—<tr><td>cabal init –lib<td>340ms<td>4.7x slower<tr><td>stack new –library<td>2.2s<td>31x slower</table><p><strong>Why hx is faster:</strong><ul><li>hx generates files from templates without invoking GHC<li>stack downloads resolver information and initializes package databases<li>cabal runs Haskell code for project generation</ul><hr><h3 id=3-build-performance>3. Build Performance</h3><p>The core developer experience metric. Test project is a simple 3-module executable:<ul><li><code>Main.hs</code> (15 lines)<li><code>Lib.hs</code> (10 lines)<li><code>Utils.hs</code> (8 lines)<li>Single dependency: <code>base</code></ul><h4 id=cold-build-clean-state>Cold Build (Clean State)</h4><p>After removing all build artifacts (<code>.hx/</code>, <code>dist-newstyle/</code>).<table><thead><tr><th>Mode<th>Time<th>Speedup<tbody><tr><td><strong>hx build –native</strong><td>0.48s<td>—<tr><td>hx build (cabal backend)<td>2.52s<td>5.3x slower<tr><td>cabal build<td>2.68s<td>5.6x slower<tr><td>stack build<td>3.2s<td>6.7x slower</table><h4 id=incremental-build-no-changes>Incremental Build (No Changes)</h4><p>Subsequent build with no source modifications.<table><thead><tr><th>Mode<th>Time<th>Speedup<tbody><tr><td><strong>hx build –native</strong><td>0.05s<td>—<tr><td>hx build (cabal backend)<td>0.35s<td>7x slower<tr><td>cabal build<td>0.39s<td>7.8x slower<tr><td>stack build<td>0.52s<td>10.4x slower</table><h4 id=incremental-build-single-file-changed>Incremental Build (Single File Changed)</h4><p>After modifying one source file.<table><thead><tr><th>Mode<th>Time<th>Speedup<tbody><tr><td><strong>hx build –native</strong><td>0.31s<td>—<tr><td>cabal build<td>1.42s<td>4.6x slower<tr><td>stack build<td>1.8s<td>5.8x slower</table><hr><h3 id=4-native-build-mode>4. Native Build Mode</h3><p>hx’s native build mode bypasses cabal entirely for simple projects.<h4 id=how-it-works>How It Works</h4><ol><li><strong>Direct GHC invocation</strong> — hx constructs the module graph and calls GHC directly<li><strong>No cabal overhead</strong> — No package database queries, no build plan calculation<li><strong>Aggressive caching</strong> — Fingerprint-based caching with minimal I/O<li><strong>Parallel compilation</strong> — Native parallel builds without cabal’s job scheduling</ol><h4 id=when-native-builds-apply>When Native Builds Apply</h4><table><thead><tr><th>Scenario<th>Native Build?<tbody><tr><td>Single-package project<td>Yes<tr><td>Only <code>base</code> dependencies<td>Yes<tr><td>Multiple external dependencies<td>No (falls back to cabal)<tr><td>Custom Setup.hs<td>No<tr><td>C FFI / foreign libraries<td>No</table><h4 id=preprocessor-performance>Preprocessor Performance</h4><p>Native builds handle common preprocessors with minimal overhead:<table><thead><tr><th>Preprocessor<th>File Type<th>Additional Time<tbody><tr><td><strong>alex</strong><td><code>.x</code><td>~50ms<tr><td><strong>happy</strong><td><code>.y</code><td>~100ms<tr><td><strong>hsc2hs</strong><td><code>.hsc</code><td>~335ms<tr><td><strong>c2hs</strong><td><code>.chs</code><td>~280ms</table><hr><h3 id=5-dependency-resolution>5. Dependency Resolution</h3><p>Comparing solver performance for complex dependency graphs.<h4 id=real-package-resolution>Real Package Resolution</h4><p>Resolving dependencies for a project with 20 direct dependencies.<table><thead><tr><th>Tool<th>Time<th>Notes<tbody><tr><td><strong>hx lock</strong><td>1.2s<td>Native Rust solver<tr><td>cabal freeze<td>8.5s<td>Full constraint solving<tr><td>stack lock<td>0.8s<td>Stackage pre-computed</table><p><strong>Note:</strong> Stack is fast because Stackage snapshots pre-compute compatible versions. hx’s solver is faster than cabal for equivalent unconstrained resolution.<h4 id=solver-scaling-synthetic-benchmark>Solver Scaling (Synthetic Benchmark)</h4><p>Package count vs resolution time (10 versions per package):<table><thead><tr><th>Packages<th>hx<th>cabal<tbody><tr><td>10<td>5ms<td>120ms<tr><td>20<td>18ms<td>450ms<tr><td>50<td>85ms<td>2.8s<tr><td>100<td>320ms<td>12.5s</table><hr><h3 id=6-clean-operations>6. Clean Operations</h3><p>Removing build artifacts.<table><thead><tr><th>Tool<th>Time<th>What’s Removed<tbody><tr><td><strong>hx clean</strong><td>8ms<td><code>.hx/</code>, <code>dist-newstyle/</code><tr><td>cabal clean<td>180ms<td><code>dist-newstyle/</code><tr><td>stack clean<td>95ms<td><code>.stack-work/</code></table><p>hx clean is fast because it’s a simple directory removal without Haskell runtime overhead.<hr><h3 id=7-watch-mode-performance>7. Watch Mode Performance</h3><p>File change detection and rebuild.<h4 id=time-from-file-save-to-rebuild-start>Time from File Save to Rebuild Start</h4><table><thead><tr><th>Tool<th>Latency<tbody><tr><td><strong>hx watch</strong><td>15ms<tr><td>ghcid<td>25ms<tr><td>stack –file-watch<td>180ms</table><h4 id=rebuild-time-single-module-change>Rebuild Time (Single Module Change)</h4><table><thead><tr><th>Tool<th>Time<tbody><tr><td><strong>hx watch</strong><td>0.28s<tr><td>ghcid<td>0.35s<tr><td>stack –file-watch<td>1.2s</table><hr><h3 id=8-shell-completions>8. Shell Completions</h3><p>Generating shell completion scripts.<table><thead><tr><th>Shell<th>Time<tbody><tr><td>bash<td>4ms<tr><td>zsh<td>5ms<tr><td>fish<td>4ms</table><p>Completions are generated at runtime from clap, no Haskell invocation needed.<hr><h3 id=9-diagnostics-hx-doctor>9. Diagnostics (<code>hx doctor</code>)</h3><p>Environment health check including toolchain detection.<table><thead><tr><th>Check<th>Time<tbody><tr><td>Full doctor<td>45ms<tr><td>GHC detection<td>8ms<tr><td>Cabal detection<td>5ms<tr><td>HLS compatibility<td>12ms<tr><td>Project validation<td>15ms</table><hr><h3 id=10-memory-usage>10. Memory Usage</h3><p>Peak memory consumption during common operations.<table><thead><tr><th>Operation<th>hx<th>cabal<th>stack<tbody><tr><td>CLI startup<td>8 MB<td>45 MB<td>85 MB<tr><td>Project init<td>12 MB<td>120 MB<td>180 MB<tr><td>Build (simple)<td>45 MB<td>250 MB<td>320 MB<tr><td>Dependency resolution<td>80 MB<td>450 MB<td>180 MB</table><hr><h2 id=benchmark-implementation>Benchmark Implementation</h2><p>hx uses two benchmark frameworks:<h3 id=criterion-benchmarks>Criterion Benchmarks</h3><p>Located in <code>crates/hx-solver/benches/</code> and <code>crates/hx-cli/benches/</code>:<pre class=language-rust data-lang=rust><code class=language-rust data-lang=rust>// crates/hx-cli/benches/cli_bench.rs
fn bench_startup(c: &mut Criterion) {
    let mut group = c.benchmark_group("startup");
    group.sample_size(50);

    group.bench_function("hx_help", |b| {
        b.iter(|| {
            Command::new(env!("CARGO_BIN_EXE_hx"))
                .arg("--help")
                .output()
                .expect("hx --help failed")
        })
    });

    // Compare with cabal if available
    if has_cabal() {
        group.bench_function("cabal_help", |b| {
            b.iter(|| {
                Command::new("cabal")
                    .arg("--help")
                    .output()
                    .expect("cabal --help failed")
            })
        });
    }

    group.finish();
}
</code></pre><h3 id=benchmark-groups>Benchmark Groups</h3><table><thead><tr><th>Group<th>What It Measures<th>Location<tbody><tr><td><code>startup</code><td>CLI –help and –version time<td><code>hx-cli/benches/cli_bench.rs</code><tr><td><code>init</code><td>Project initialization<td><code>hx-cli/benches/cli_bench.rs</code><tr><td><code>doctor</code><td>Environment diagnostics<td><code>hx-cli/benches/cli_bench.rs</code><tr><td><code>config</code><td>Config parsing and display<td><code>hx-cli/benches/cli_bench.rs</code><tr><td><code>clean</code><td>Build artifact removal<td><code>hx-cli/benches/cli_bench.rs</code><tr><td><code>completions</code><td>Shell completion generation<td><code>hx-cli/benches/cli_bench.rs</code><tr><td><code>lock_check</code><td>Lockfile verification<td><code>hx-cli/benches/cli_bench.rs</code><tr><td><code>solver</code><td>Dependency resolution<td><code>hx-solver/benches/solver_bench.rs</code></table><hr><h2 id=running-benchmarks>Running Benchmarks</h2><h3 id=criterion-benchmarks-1>Criterion Benchmarks</h3><pre class=language-bash data-lang=bash><code class=language-bash data-lang=bash># All CLI benchmarks
cargo bench -p hx-cli

# Specific benchmark group
cargo bench -p hx-cli -- startup

# Solver benchmarks
cargo bench -p hx-solver

# View HTML reports
open target/criterion/report/index.html
</code></pre><h3 id=comparison-script>Comparison Script</h3><pre class=language-bash data-lang=bash><code class=language-bash data-lang=bash># Install hyperfine
cargo install hyperfine

# Run full comparison suite
./scripts/benchmark-comparison.sh
</code></pre><h3 id=manual-benchmark>Manual Benchmark</h3><pre class=language-bash data-lang=bash><code class=language-bash data-lang=bash># Create test project
mkdir /tmp/hx-bench && cd /tmp/hx-bench

cat > hx.toml << 'EOF'
[project]
name = "hx-bench"
[toolchain]
ghc = "9.8.2"
EOF

cat > hx-bench.cabal << 'EOF'
cabal-version: 3.0
name: hx-bench
version: 0.1.0.0
build-type: Simple

executable hx-bench
    main-is: Main.hs
    other-modules: Lib, Utils
    hs-source-dirs: src
    default-language: GHC2021
    build-depends: base
EOF

mkdir src
echo 'module Main where; import Lib; import Utils; main = putStrLn (format greeting)' > src/Main.hs
echo 'module Lib (greeting) where; greeting = "Hello"' > src/Lib.hs
echo 'module Utils (format) where; format s = ">>> " ++ s ++ " <<<"' > src/Utils.hs

# Benchmark cold build
rm -rf .hx dist-newstyle
hyperfine --warmup 2 'hx build --native' 'cabal build'

# Benchmark incremental
hyperfine --warmup 2 'hx build --native' 'cabal build'
</code></pre><hr><h2 id=methodology>Methodology</h2><h3 id=measurement-protocol>Measurement Protocol</h3><ol><li><strong>Warmup:</strong> 2 iterations discarded<li><strong>Samples:</strong> 5 iterations minimum<li><strong>Metric:</strong> Median time (robust to outliers)<li><strong>Environment:</strong> Quiet system, minimal background processes<li><strong>Cache state:</strong> Explicitly controlled (cold = artifacts removed)</ol><h3 id=statistical-validity>Statistical Validity</h3><ul><li>Standard deviation < 5% for all measurements<li>P95 confidence intervals calculated<li>Outliers flagged and investigated</ul><h3 id=tools-used>Tools Used</h3><table><thead><tr><th>Tool<th>Purpose<tbody><tr><td><strong>hyperfine</strong><td>Statistical command-line benchmarking<tr><td><strong>criterion</strong><td>Rust microbenchmark framework<tr><td><strong>time</strong><td>Wall-clock timing for quick checks</table><hr><h2 id=historical-results>Historical Results</h2><table><thead><tr><th>Version<th>Date<th>Native Cold<th>Cabal Cold<th>Speedup<tbody><tr><td>0.4.0<td>2026-01-18<td>0.48s<td>2.68s<td>5.6x<tr><td>0.3.6<td>2026-01-17<td>0.48s<td>2.68s<td>5.6x<tr><td>0.3.0<td>2026-01-10<td>0.52s<td>2.68s<td>5.2x<tr><td>0.2.0<td>2025-12-15<td>0.61s<td>2.70s<td>4.4x</table><hr><h2 id=contributing-benchmarks>Contributing Benchmarks</h2><p>We welcome benchmark contributions:<ol><li><strong>Run on your hardware</strong> — Different CPUs and platforms help validate results<li><strong>Suggest new scenarios</strong> — What operations should we benchmark?<li><strong>Report regressions</strong> — If you notice performance degradation, file an issue</ol><p>Submit results: <a rel="noopener nofollow noreferrer" href=https://github.com/raskell-io/hx/issues target=_blank>GitHub Issues</a><hr><h2 id=faq>FAQ</h2><h3 id=why-not-compare-against-nix>Why not compare against Nix?</h3><p>Nix solves a different problem (reproducible environments) and has different performance characteristics. Direct comparison would be misleading.<h3 id=will-hx-always-be-faster>Will hx always be faster?</h3><p>For complex multi-package projects with custom build steps, cabal’s sophistication may be necessary. hx optimizes for the common case.<h3 id=how-do-bhc-builds-compare>How do BHC builds compare?</h3><p>BHC (Basel Haskell Compiler) benchmarks will be added once BHC reaches stable release.</div><meta content=raskell.io itemprop=author></article><nav aria-label="Page navigation" class=page-nav></nav></main></div></div><div aria-hidden=true class=sidebar-overlay></div><div aria-describedby=search-description aria-labelledby=search-title aria-modal=true class=search-overlay role=dialog><div class=search><h2 class=sr-only id=search-title>Search documentation</h2><p class=sr-only id=search-description>Type to search. Use arrow keys to navigate results, Enter to select, Escape to close.<div class=search__input-wrapper><span aria-hidden=true class=search__icon> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=11 cy=11 r=8 /><path d="m21 21-4.3-4.3"/></svg> </span><input aria-label="Search query" placeholder="Search documentation..." aria-autocomplete=list aria-controls=search-results autocomplete=off autofocus class=search__input type=search><span aria-hidden=true class=search__shortcut>/</span><button aria-label="Close search dialog" title="Close (Esc)" class=search__close type=button><svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button></div><div aria-label="Search results" class=search__results id=search-results role=listbox></div><footer class=search__footer><nav aria-label="Keyboard shortcuts" class=search__hints><span class=search__hint> <kbd aria-label="Up and down arrows">↑</kbd><kbd aria-hidden=true>↓</kbd> <span>Navigate</span> </span><span class=search__hint> <kbd aria-label=Enter>↵</kbd> <span>Select</span> </span><span class=search__hint> <kbd aria-label=Escape>esc</kbd> <span>Close</span> </span></nav><span class=search__powered-by>Powered by <a aria-label="elasticlunr.js on GitHub (opens in new tab)" rel="noopener noreferrer" href=https://github.com/weixsong/elasticlunr.js target=_blank>elasticlunr</a></span></footer></div></div><button aria-label="Scroll to top" class="fab scroll-to-top" title="Scroll to top"><svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="m18 15-6-6-6 6"/></svg></button><script defer src=https://hx.raskell.io/docs/js/theme.js></script><script defer src=https://hx.raskell.io/docs/js/navigation.js></script><script defer src=https://hx.raskell.io/docs/js/code.js></script><script src=https://hx.raskell.io/docs/elasticlunr.min.js></script><script src=https://hx.raskell.io/docs/search_index.en.js></script><script defer src=https://hx.raskell.io/docs/js/search.js></script>